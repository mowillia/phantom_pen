Barack Obama stood in the Rose Garden, watching Joe Biden announce that he wasn’t going to run for president—exactly what he wanted and had helped make happen.

Four years later, the president has come a long way on his views of a Biden run.

For many Democrats, Biden’s 2020 announcement today is the bookend to the anxiety and regret they’ve been filled with since Election Night 2016, when they watched the “blue wall” of midwestern states fall away from Hillary Clinton: He would have held on to those white working-class voters and beaten Donald Trump, they believe. He would have won.

“It’s one of the great imponderables,” Senator Bob Casey of Pennsylvania, who supported Clinton but immediately endorsed Biden today, told me hours before the former vice president released a campaign video that he will follow with events in Pittsburgh and a tour of the early primary states over the next two weeks.

Biden has had that conversation about what might have been in 2016 with himself over the past two and a half years, and he was having it with Obama four years ago.

This time around, Biden said he’s running as an “Obama-Biden Democrat.” In his 2020 announcement, he leaned heavily into the Obama associations and a sense that he is the heir to the Obama legacy. Obama isn’t quite saying the same, though his feelings about this run are complicated too—word went out from someone familiar with the former president’s thinking today saying Obama isn’t endorsing anyone, for the moment. But an Obama spokesperson cited their closeness and put out a statement that said Obama had always valued Biden’s “knowledge, insight, and judgment throughout both campaigns and the entire presidency.” Putting Biden on the ticket, the statement said, repeating a thought Obama has often expressed himself, was “one of the best decisions he ever made.”

Biden, speaking to reporters at the train station in Wilmington, Delaware, later this morning, insisted, “I asked Obama not to endorse.”

Obama played a far different role in the summer of 2015, when he urged everyone in the White House to give Biden time, and space, as he talked about getting into the 2016 presidential race. Obama had decided early on that he wanted Clinton to be his successor, and that she was the best fit for the job and would be the strongest candidate. Obama didn’t think running was a good idea for Biden, politically or personally. Biden was in pain after the death of his son, and he would figure this out on his own, Obama told his aides, but he wanted it to be Biden’s decision.

The long conversation Biden had with aides in the summer and early fall of 2015 about whether to run for president in 2016 was fraught with emotion. Biden’s son Beau, the Delaware attorney general, had died of brain cancer at age 46 over the Memorial Day weekend. The grief had been overwhelming for Biden in the months that followed, so much so that on some days, aides got used to seeing his attention suddenly wander off in discussions about running as a thought about his son hit him.

As Biden processed his grief, he found himself reengaging his lifelong dream of becoming president, which he’d all but shelved. Part of the reason Obama’s aides put him on the ticket in 2008 was that they figured that after his unsuccessful 1988 and 2008 presidential campaigns, and at 65 then, they wouldn’t have to worry about competing political ambitions from within the White House. Before Beau got sick, the vice president had mostly transferred his presidential dreams to the next generation, “Joe 2.0,” as Obama would lovingly call Beau in the eulogy he gave at a church in Wilmington that June.

As the summer went on and Biden’s conversations about running continued, Obama grew antsy, according to multiple people who remember the moment.

In his memoir published last year, Biden alludes to the response he got from Obama about a possible candidacy, without providing much detail. One day over lunch late in the process, Biden wrote in Promise Me, Dad, Obama finally asked him directly about whether he was running, and Biden said he wasn’t ready to make up his mind. “The president was not encouraging,” Biden noted.

Out of concern for Biden, a former White House aide recalled, Obama urged him to talk to David Plouffe, Obama’s first campaign manager and trusted political adviser.

This was not meant to be a pep talk.

Plouffe arrived in early fall with data, laying out how hard it would be to win the nomination, making a case that Obama agreed with. “Mr. Vice President, you’ve had a great career, you’ve been such an asset to this administration—and we love you,” Plouffe said, according to people familiar with the conversation. “Do you really want it to end in a hotel room in Des Moines, coming in third to Bernie Sanders?”

Biden listened, but he wasn’t convinced.

Biden and a small circle of aides got as far as the basics of a plan in the summer and early fall of 2015. He wrote an announcement speech that he’d read to people, in person and over the phone. That meeting in Washington with Plouffe stopped him, at least for a moment. The prospect of losing started to sink in.

Biden made more phone calls and continued thinking about what a campaign would look like. But the worry stuck with him. Clinton’s team was making moves to pressure him to stay out of the race, which he responded to with a shrug and annoyance. Speculation in the press got intense. “I knew it would be an uphill race against Hillary, but I thought I could win,” Biden wrote in his memoir.

On October 20, the day before he ultimately decided not to run, speaking at an event with former Vice President Walter Mondale, he shifted a key element of the story of the May 2011 raid by Navy SEALs who had killed Osama bin Laden: Instead of saying he’d opposed it, as he’d done during the 2012 reelection campaign in remarking on how steely Obama was, he said he’d opposed the raid in a national-security Cabinet meeting, but then followed Obama back to the Oval Office and told him he actually was in favor of it. To many, this seemed like an assertion in preparation for a campaign, especially since Clinton was running on her own national-security credentials and was known to have been a strong backer of the risky but successful mission.

That afternoon and into the evening, after he’d appeared with Mondale, his staff fielded questions about how he’d changed his story on the bin Laden decision. As reporters asked whether that meant he was running, Biden continued talking with people about the campaign.

He wondered whether he was ready. His supporters believed he could win.

“It’s hard to look back now, but that’s what I told him,” says James Smith, a former South Carolina state representative and friend who was on the phone with him that night in October, as Biden sat up late at the Naval Observatory.

Biden said he needed to sleep on it. He went upstairs to the residence and talked with his wife, Jill. The next morning, aides woke up still thinking he might run, but Biden had already called Obama early to say he was out. Announce it in the Rose Garden, Obama immediately offered. He said he’d stand by Biden’s side, calling in all the press to make as big a deal of it as possible. Also, he wanted to lock this in. The Biden speculation had been hanging over the administration, the Clinton campaign, the entire Democratic world, and, according to a former White House aide, once Biden had made his decision, Obama wanted it over and settled as quickly as possible.

A few blocks away from the White House, Tad Devine, Bernie Sanders’s main political consultant, and Jeff Weaver, Sanders’s 2016 campaign manager and now senior adviser to his 2020 campaign, were supposed to be meeting two Washington Post reporters for lunch to convince them to take the senator seriously. The reporters canceled the meeting over the Biden news. Devine and Weaver ended up sitting at the restaurant bar, watching Biden’s speech on TV.

Most of what Biden said that day was cribbed from the announcement speech he’d been prepping, adjusted with a bit about how there wasn’t enough time to put together a strong campaign. Devine and Weaver were laughing in surprise, relief, and frustration. All the talk about income inequality and free college coming out of Biden—that was their message.

Not that they thought Biden would have won. They just assumed that he would have been Sanders’s only path to victory. “We were rooting for Biden to get in because we thought there was no way to beat [Hillary Clinton] one on one, but maybe with him in …” Devine told me on Wednesday.

But, Devine said, hindsight is tricky, especially in dealing with an election like the one in 2016. “If he could have been nominated, he could have given Trump a run for his money,” he said. “But that would have required getting nominated.”

Now Biden and Sanders are, at least in the early days, going to be the two candidates leading the 2020 field. Plouffe, who’s advised several of the other people who looked at runs this year, including Beto O’Rourke and Michael Bloomberg, did not respond to multiple requests for comment on the assessment he gave Biden four years ago.

Like Obama, Ed Rendell, the former Philadelphia mayor and Pennsylvania governor, stood by Clinton in 2016. But he too has been close to Biden for a long time. Now Rendell is rustling big donors to come to the first fundraiser Biden is having, scheduled for this afternoon in Philadelphia, and he says he’s been amazed by the response.

Biden is going to be strong because he has the most experience, Rendell told me. That’s why he’s going to beat Trump and win this time. But didn’t Clinton have a lot of experience herself and make that central to her campaign?

“She did, but she made some bad mistakes, and she didn’t run a very good general-election campaign,” Rendell said, arguing that his support for Biden comes down to the math: Democrats need the white blue-collar workers in Wisconsin, Pennsylvania, and Michigan whom they lost in 2016 to win, and Biden is the way back on those voters. Many Democratic strategists wonder about that, asking whether in fact the lesson to be learned from 2018 is about motivating new voters, from new constituencies, realizing that there may have been a deeper and irreversible shift among the Democratic electorate.

As far back as his last trip to New Hampshire, in April 2017, Biden was saying at a big Democratic dinner, “The cadre of people who were all ours for so long … they doubted whether we still remembered.” He added: “I’m absolutely positive they want to be with us, but we have to prove again that we understand their hopelessness.”

Whatever debate there may be over whether Biden would have won in 2016, his supporters believe that what happened then and since has only strengthened the case for why he’s going to win now.

“In every measure, he is the right leader for the right time,” Smith, the former state representative from South Carolina, told me. “In many ways, that was true then, but now you kind of add an exclamation point to every category.”

Biden, in his announcement video, makes that case himself, saying that a four-year Trump presidency could go down as an aberration, but “if we give Donald Trump eight years in the White House, he will forever and fundamentally alter the character of this nation—who we are—and I cannot stand by and watch that happen.”

(Trump responded on Twitter by calling Biden “sleepy” and making a crack about his intelligence.)

“I know in speaking with him, he feels this is the time,” says Representative Lisa Blunt Rochester, a friend who is Delaware’s lone member of the House of Representatives. “There’s a sense of both urgency and a sense of responsibility that I think he sees this time.”